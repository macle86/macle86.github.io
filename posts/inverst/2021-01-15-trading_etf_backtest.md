---
title: 자동매매 ETF 백테스팅 (레버리지, 인버스)
author: macle
date: 2021-01-15 21:30:00 +0800
categories: [투자]
tags: [주식,ETF]
---

# 개요

- 연구는 섬세한 사람들의 오픈소스 프로젝트를 응용하여 사용하였습니다.
   - https://github.com/seomse/seomse-stock
   - https://github.com/seomse/seomse-trading
   - https://github.com/runonio/trading 
     - 지금은 runon 프로젝트에서 관리 
  
- 매매 전략 상세 알고리즘 및 소스는 공개할 수 없음을 이해 부탁드립니다. 전략 관련 부분은 비공개 저장소에서 작업중입니다.

- 추세 추종 방식의 기술적 분석을 응용한 방법을 활용 했습니다

- 포지션에 따라 레버리지와 인버스를 구매하지만 상승구간에 좀더 유리한 알고리즘 방식을 활용 하였습니다.

- 개별종목은 백테스팅에서 액면분할과 액명병합 부분이 아직 개발이 덜 되어서 관련 부분이 추가되면 개별종목과 ETF 를 같이하는 방법에 대해서도 연구할 계획입니다.

- 결과는 백테스팅결과 입니다. 실제 매매는 결과가 나오는대로 연구 일지를 작성 할 예정입니다.

- 1분봉 5분봉을 활용한 리얼타임 매매도 조만간에 작성할 예정 입니다.

# 가정
- 종가 직전에 매매, 종가 매수
- 슬리피지와 체결이 되지 않는 경우의 수는 고려되지 않음
- 종목코드 252670 KODEX 200선물인버스2X 정보가 있는 일자가 2016.09.22 이므로 2016.09.22 부터 백테스팅 시작
- 테스트 기간은 20160922~20210115
- 항상 올인 하는 방법으로 복리 효과가 있는 방식
- 시작금액은 1억으로 시작
- 거래수수료 포함

# 결과
- 약 4년 4개월 가량 총 수익률은 772.75% 로  1억 합산 총액은 872753336
- 같은 기간 코스피는 50.55% 상승하였습니다
- 백테스팅 결과 횡보권 구간보다 변동성이 큰 구간이 수익이 큰것으로 나타남
- 아레와 같은 일별 상세 보유 종목 현금 / 자산 현황이 보이지만 게시글에서는 가독성을 위해 요약정보만 작성
- 하나의 고정된 알고리즘을 활용했는데 장기 하락장과 상승장을 인식하여 알고리즘 방식 변화 하는 부분을 추가할 필요가 있어 보임
- 종가 직전과 종가 단일가 매매로 일 하루에 1~2회 매매 하는 방식이므로 오차율은 적을 것으로 예상 됨
- 자산이 최고인 날 결과는 20210113 자산: 913330858

## 상세
- 20210115 자산: 872753336
- 현금: 17108
- 총 자산 변화율: 772.75
- 총 코스피 변화율: 50.55
- 총 코스닥 변화율: 40.74


# 년도별 상세
## 20160922 ~ 20161231
- 시작자산: 100000000
- 20160922 자산: 100000000
- 20161229 자산: 101882525
- 변화율: 1.88%

## 20170101 ~ 20170531
- 시작자산 101882525
- 20170102 자산: 102554833
- 20170531 자산: 134835235
- 변화율: 32.34%

## 20170601 ~ 20171231
- 시작자산 134835235
- 20170601 자산: 134056633
- 20171228 자산: 158499148
- 변화율: 17.55%

## 20180101 ~ 20180531
- 시작자산 158499148
- 20180102 자산: 159571721
- 20180531 자산: 157628547
- 변화율: -1.21%

## 20180601 ~ 20181231
- 시작자산 157628547
- 20180601 자산: 156006707
- 20181228 자산: 140498437
- 변화율: -10.86%


## 20190101 ~ 20190531
- 시작자산 140498437
- 20190102 자산: 137699447
- 20190531 자산: 175321658
- 변화율: 24.78%

## 20190601 ~ 20191231
- 시작자산 175321658
- 20190603 자산: 169607770
- 20191230 자산: 211782614
- 변화율: 20.79%

## 20200101 ~ 20200531
- 시작자산 211782614
- 20200102 자산: 206424220
- 20200529 자산: 460575559
- 변화율: 117.47%

## 20200601 ~ 20201231
- 시작자산 460575559
- 20200601 자산: 460501869
- 20201230 자산: 752618311
- 변화율: 63.41%

## 20210101 ~ 20210115
- 시작자산 752618311
- 20210104 자산: 793355587
- 20210115 자산: 872753336
- 변화율: 15.96%









